{"version":3,"sources":["js/db.js","js/renders/renderFavorites.js","js/renders/renderAllMoviesGrid.js","js/renders/renderAllMoviesList.js","js/handlers.js","js/listeners.js","js/renders/renderModalMovie.js","js/helpers.js","js/renders/renderDashboard.js","js/fetchData.js","index.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["getDBdata","key","JSON","parse","localStorage","getItem","setDBdata","data","setItem","stringify","removeDBdata","removeItem","favoriteUl","document","querySelector","renderFavorites","ids","allCards","length","movies","favoriteMovies","map","id","name","join","innerHTML","moviesWrapper","renderAllMoviesGrid","Object","values","img","year","favoriteMoviesId","dataAtributes","includes","toString","starColor","renderAllMoviesList","description","genres","genresList","genre","markFavoriteMovies","e","star","target","closest","classList","contains","remove","add","card","dataset","openNodal","clickFavoriteUl","item","idRemove","querySelectorAll","filter","elem","newFavoriteMovies","movie","newFavoriteMoviesId","changeMoviesLayout","layout","selectedGenre","toggle","newTarget","parentElement","changeSelectedGener","value","currentView","addModalMovieListener","modal","closeModalHandler","preventDefault","removeEventListener","addEventListener","addDashboardListener","customSelect","dashboardView","movieContent","renderModalMovie","modalMovie","director","starring","starringList","content","openModalMovie","getFavorites","groupMoviesByGenres","allGeners","Set","flat","moviesByGeners","unshift","truncate","str","len","new_str","substr","lastIndexOf","renderDashboard","dashboard","genresOptionsList","dashboardContent","fetchData","url","response","fetch","json","idSet","moviesById","err","console","log","message","FullList","moviesGallery","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","body","appendChild","getElementById","createElement","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["//  localStorage \r\n\r\nexport function getDBdata(key) {\r\n  return JSON.parse(localStorage.getItem(key))\r\n}\r\n\r\nexport function setDBdata(key, data) {\r\n  localStorage.setItem(key, JSON.stringify(data))\r\n}\r\n\r\nexport function removeDBdata(key) {\r\n  localStorage.removeItem(key);\r\n}","//  renderFavorites  ===============================\r\n\r\nimport { getDBdata, removeDBdata, setDBdata } from '../db'\r\n\r\nconst favoriteUl = document.querySelector('.favorite-ul')\r\n\r\nexport const renderFavorites = (ids) => {\r\n\r\n  let allCards = `<p>You don't have favorite movies</p>`\r\n\r\n  if (ids?.length > 0) {\r\n\r\n    const movies = getDBdata('movies')\r\n    const favoriteMovies = ids.map(id => movies[id])\r\n\r\n    removeDBdata('favoriteMovies')\r\n    setDBdata('favoriteMovies', favoriteMovies)\r\n\r\n    allCards = favoriteMovies.map(({ id, name }) => {\r\n      return `\r\n      <li class=\"favorite-text\" data-id=\"${id}\">\r\n      <span class=\"favorite-name\">&rarr;&nbsp;&nbsp;${name}</span>\r\n      <span class=\"delete-mark\" data-id=\"${id}\">&times;</span>\r\n      \r\n      </li>\r\n      `\r\n    }).join('')\r\n  }\r\n\r\n  favoriteUl.innerHTML = \"\"\r\n  favoriteUl.innerHTML = allCards\r\n}\r\n","//  renderAllMovies ==================\r\nimport { getDBdata } from '../db'\r\n\r\nconst moviesWrapper = document.querySelector('.movies-wrapper')\r\n\r\nexport function renderAllMoviesGrid(movies) {\r\n\r\n  if (!movies) {\r\n    moviesWrapper.innerHTML = ''\r\n    moviesWrapper.innerHTML =\r\n      `\r\n      <div class=\"allert-warning text-center \" > localStorage empty</ >\r\n        <div class=\"allert-warning text-center \">Reload the app to get movies from the server</div>\r\n      `\r\n    return\r\n  }\r\n\r\n  const allCards = Object.values(movies).map(({ id, img, name, year }) => {\r\n\r\n    // get favorite movies from localStorage\r\n    let favoriteMoviesId = getDBdata('favoriteMoviesId')\r\n\r\n    const dataAtributes = favoriteMoviesId?.includes(id.toString())\r\n      ? `data-id=\"${id}\" data-star=\"favorite\"`\r\n      : `data-id=\"${id}\" data-star=\"white\" `\r\n\r\n    const starColor = favoriteMoviesId?.includes(id.toString())\r\n      ? 'star-gold' : 'star-white'\r\n\r\n    return `\r\n        <div class=\"card\" ${dataAtributes}\" >\r\n        <div class=\"star ${starColor}\" ></div>\r\n        <img src=\"${img}\" class=\"movie-img\" alt=\"${name}\">\r\n        <div class=\"movie-body\">\r\n          <p class=\"movie-text text-center\">${name}</p>\r\n          <p class=\"movie-text text-center\">${year}</p>\r\n        </div>\r\n      </div>\r\n      `\r\n  }).join('')\r\n\r\n  moviesWrapper.innerHTML = ''\r\n  moviesWrapper.innerHTML = allCards\r\n}\r\n","//  renderAllMovies ==================\r\nimport { getDBdata } from '../db'\r\nimport { truncate } from '../helpers'\r\n\r\nconst moviesWrapper = document.querySelector('.movies-wrapper')\r\n\r\nexport function renderAllMoviesList(movies) {\r\n\r\n  if (!movies) {\r\n    moviesWrapper.innerHTML = ''\r\n    moviesWrapper.innerHTML =\r\n      `\r\n      <div class=\"allert-warning text-center \" > localStorage empty</ >\r\n        <div class=\"allert-warning text-center \">Reload the app to get movies from the server</div>\r\n      `\r\n    return\r\n  }\r\n\r\n  const allCards = Object.values(movies).map(({ id, img, name, year, description, genres }) => {\r\n\r\n    // get favorite movies from localStorage\r\n    let favoriteMoviesId = getDBdata('favoriteMoviesId')\r\n\r\n    const dataAtributes = favoriteMoviesId?.includes(id.toString())\r\n      ? `data-id=\"${id}\" data-star=\"favorite\"`\r\n      : `data-id=\"${id}\" data-star=\"white\" `\r\n\r\n    const starColor = favoriteMoviesId?.includes(id.toString())\r\n      ? 'star-gold' : 'star-white'\r\n\r\n    const genresList = genres\r\n      .map(genre => `<span>${genre}</span>`)\r\n      .join('')\r\n\r\n    return `\r\n        <div class=\"card list\" ${dataAtributes}\" >\r\n          <div class=\"star ${starColor}\" ></div>\r\n          <div class=\"movie-content-left\">\r\n \r\n           <img src=\"${img}\" class=\"movie-img\" alt=\"${name}\">\r\n          </div>\r\n\r\n          <div class=\"movie-content-rigth\">\r\n\r\n            <div class=\"movie-title\">\r\n              <span class=\"movie-text text-center\">${name}</span>\r\n              <span class=\"movie-text text-center\">${year}</span>\r\n            </div>\r\n\r\n            <div class=\"movie-description\">\r\n              ${truncate(description, 120)}\r\n            </div>\r\n\r\n            <div class=\"movie-geners\">\r\n             ${genresList}\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      `\r\n  }).join('')\r\n\r\n  moviesWrapper.innerHTML = ''\r\n  moviesWrapper.innerHTML = allCards\r\n}\r\n","//  markFavoriteMovies\r\n\r\nimport { getFavorites } from './helpers'\r\nimport { setDBdata, removeDBdata } from './db'\r\n\r\nfunction markFavoriteMovies(e) {\r\n  const star = e.target.closest('.star')\r\n  if (star.classList.contains('star-gold')) {\r\n    star.classList.remove('star-gold')\r\n    star.classList.add('star-white')\r\n  } else {\r\n    star.classList.remove('star-white')\r\n    star.classList.add('star-gold')\r\n  }\r\n\r\n  const card = e.target.closest('.card')\r\n  card.dataset.star === \"white\"\r\n    ? card.dataset.star = \"favorite\"\r\n    : card.dataset.star = \"white\"\r\n  const favoriteMoviesId = getFavorites()\r\n\r\n  removeDBdata('favoriteMoviesId');\r\n\r\n  setDBdata('favoriteMoviesId', favoriteMoviesId)\r\n\r\n  return favoriteMoviesId\r\n}\r\n\r\n//  openNodal callback\r\n\r\nimport { renderFavorites } from './renders/renderFavorites'\r\nimport { openModalMovie } from './helpers'\r\n\r\nexport function openNodal(e) {\r\n  if (e.target.closest('.star')) {\r\n    const favoriteMoviesId = markFavoriteMovies(e)\r\n    renderFavorites(favoriteMoviesId)\r\n  }\r\n\r\n  if (e.target.closest('.movie-img')) {\r\n    openModalMovie(e)\r\n  }\r\n\r\n  if (e.target.closest('.favorite-name')) {\r\n    openModalMovie(e)\r\n  }\r\n}\r\n\r\n\r\n//  clickFavoriteUl callback \r\nconst moviesWrapper = document.querySelector('.movies-wrapper')\r\n\r\nimport { getDBdata } from './db'\r\n// import { getDBdata, setDBdata, removeDBdata } from './db'\r\n\r\nexport function clickFavoriteUl(e) {\r\n  const item = e.target.closest('.delete-mark')\r\n\r\n  if (item) {\r\n    const idRemove = item.dataset.id\r\n\r\n    // Reset favorite for Movie Galary (data-atribute & class)\r\n\r\n    let card = [...moviesWrapper.querySelectorAll('.card')]\r\n      .filter(elem => +elem.dataset.id === +idRemove)[0]\r\n\r\n    card.dataset.star === \"white\" ? card.dataset.star = \"favorite\" : card.dataset.star = \"white\"\r\n\r\n    card.querySelector('.star').classList.remove('star-gold')\r\n    card.querySelector('.star').classList.add('star-white')\r\n\r\n    // Reset favorite movies' \r\n\r\n    let favoriteMovies = getDBdata('favoriteMovies')\r\n    let newFavoriteMovies = favoriteMovies.filter(movie => +movie.id !== +idRemove)\r\n    removeDBdata('favoriteMovies')\r\n    setDBdata('favoriteMovies', newFavoriteMovies)\r\n\r\n    // Reset favorite movies' id\r\n\r\n    let favoriteMoviesId = getDBdata('favoriteMoviesId')\r\n    let newFavoriteMoviesId = favoriteMoviesId.filter(id => id !== idRemove)\r\n    removeDBdata('favoriteMoviesId')\r\n    setDBdata('favoriteMoviesId', newFavoriteMoviesId)\r\n\r\n    renderFavorites(newFavoriteMoviesId)\r\n  }\r\n}\r\n\r\nexport function changeMoviesLayout(e) {\r\n\r\n  const target = e.target\r\n  const layout = target.dataset.layout\r\n\r\n  // if (!!layout) {\r\n  //   removeDBdata('currentView')\r\n  //   setDBdata('currentView', layout)\r\n  //   console.log('if layout: ', layout);\r\n  // }\r\n\r\n  if (!!layout && layout == 'grid') {\r\n    removeDBdata('currentView')\r\n    setDBdata('currentView', layout)\r\n    const movies = getDBdata('moviesByGenres')\r\n    const selectedGenre = getDBdata('selectedGenre') ?? 'all'\r\n    renderAllMoviesGrid(movies[selectedGenre])\r\n    target.classList.toggle('grid-gray')\r\n    target.classList.toggle('grid-dark')\r\n    const newTarget = target.parentElement\r\n      .querySelector('[data-layout =\\'list\\']')\r\n    newTarget.classList.toggle('list-dark')\r\n    newTarget.classList.toggle('list-gray')\r\n  }\r\n\r\n  if (!!layout && layout == 'list') {\r\n    removeDBdata('currentView')\r\n    setDBdata('currentView', layout)\r\n    const movies = getDBdata('moviesByGenres')\r\n    const selectedGenre = getDBdata('selectedGenre') ?? 'all'\r\n    renderAllMoviesList(movies[selectedGenre])\r\n    target.classList.toggle('list-gray')\r\n    target.classList.toggle('list-dark')\r\n    const newTarget = target.parentElement\r\n      .querySelector('[data-layout =\\'grid\\']')\r\n    newTarget.classList.toggle('grid-dark')\r\n    newTarget.classList.toggle('grid-gray')\r\n  }\r\n}\r\n\r\n//  Change selected gener\r\n\r\nimport { renderAllMoviesGrid } from './renders/renderAllMoviesGrid'\r\nimport { renderAllMoviesList } from './renders/renderAllMoviesList'\r\n\r\nexport function changeSelectedGener(e) {\r\n\r\n  const selectedGenre = e.target.value\r\n  removeDBdata(selectedGenre)\r\n  setDBdata('selectedGenre', selectedGenre)\r\n\r\n  const movies = getDBdata('moviesByGenres')\r\n  const currentView = getDBdata('currentView') ?? 'list'\r\n\r\n  currentView === 'grid'\r\n    ? renderAllMoviesGrid(movies[selectedGenre])\r\n    : renderAllMoviesList(movies[selectedGenre])\r\n}","//  addModalMovieListener \r\n\r\nexport function addModalMovieListener() {\r\n\r\n  const modal = document.querySelector('.modal')\r\n  const closeModalHandler = (e) => {\r\n    e.preventDefault()\r\n    const target = e.target\r\n    if (target.classList.contains('modal')\r\n      || target.classList.contains('modal-close')) {\r\n      modal.classList.add('modal-hide')\r\n      modal.removeEventListener('click', closeModalHandler)\r\n    }\r\n  }\r\n\r\n  modal.addEventListener('click', closeModalHandler)\r\n}\r\n\r\n//  addDashboardListener\r\n\r\nimport { changeSelectedGener, changeMoviesLayout } from './handlers'\r\n\r\nexport function addDashboardListener() {\r\n\r\n  const customSelect = document.querySelector('.custom-select')\r\n  customSelect.addEventListener('click', changeSelectedGener)\r\n\r\n  //  @ Movies view (grid/list) selector\r\n  const dashboardView = document.querySelector('.dashboard-view')\r\n  dashboardView.addEventListener('click', changeMoviesLayout)\r\n}\r\n","//  renderModalMovie   =====================\r\n\r\nimport { addModalMovieListener } from '../listeners'\r\nimport { getDBdata } from '../db'\r\n\r\nconst movieContent = document.querySelector('.modal > .movie-content')\r\n\r\nexport const renderModalMovie = (id) => {\r\n\r\n  const modalMovie = getDBdata('movies').[id]\r\n\r\n  if (!modalMovie) {\r\n    movieContent.innerHTML = ''\r\n    movieContent.innerHTML =\r\n      `\r\n      <div class=\"allert-warning text-center\">localStorage empty. &nbsp;</div>\r\n      <div class=\"allert-warning text-center \">Reload app to get movies from the server</div>\r\n      `\r\n    return\r\n  }\r\n\r\n  const { name, img, description, year, genres, director, starring } = modalMovie\r\n\r\n  const genresList = genres\r\n    .map(genre => `<span>${genre}</span>`)\r\n    .join('')\r\n\r\n  const starringList = starring\r\n    .map(star => `&nbsp;<span>${star}</span>`)\r\n    .join(',')\r\n\r\n  const content = `\r\n      <div class=\"modal-close\">&times;</div>\r\n      <div class=\"movie-content-left\">\r\n        <img src=${img} class=\"movie-img\"\r\n          alt=\"${name}\">\r\n        <div class=\"movie-star-year\">\r\n          <div class=\"movie-star\">&star;</div>\r\n          <div class=\"movie-year\">${year}</div>\r\n        </div>\r\n        <div class=\"movie-geners\">${genresList}\r\n        </div>\r\n      </div>\r\n     \r\n      <div class=\"movie-content-right\">\r\n        <div class=\"movie-title\">${name}</div>\r\n        <div class=\"movie-description\">\r\n         ${description}\r\n        </div>\r\n        <div class=\"movie-director\">\r\n          <span class=\"movie-text-bold\">Director:</span>\r\n          ${director}\r\n        </div>\r\n        <div class=\"movie-starting\">\r\n          <span class=\"movie-text-bold\">Starting 2:&nbsp;</span>\r\n          ${starringList}\r\n          <span>Tony Goldwyn&nbsp;</span>\r\n        </div>\r\n       </div>\r\n\r\n      </div>\r\n    `\r\n  movieContent.innerHTML = ''\r\n  movieContent.innerHTML = content\r\n  addModalMovieListener()\r\n}\r\n","// openModalMovieHandler\r\nimport { renderModalMovie } from './renders/renderModalMovie'\r\n\r\nexport function openModalMovie(e) {\r\n  const id = e.target\r\n    .closest('[data-id]')?.dataset.id\r\n  if (!id) { return }\r\n  renderModalMovie(id)\r\n\r\n  const modal = document.querySelector('.modal')\r\n  modal.classList.remove('modal-hide')\r\n}\r\n\r\n// getFavorites \r\n\r\nconst moviesWrapper = document.querySelector('.movies-wrapper')\r\n\r\nexport function getFavorites() {\r\n  return [...moviesWrapper.querySelectorAll('.card')]\r\n    .filter(card => card.dataset.star === 'favorite')\r\n    .map(card => card.dataset.id)\r\n}\r\n\r\n// Grouping movies by genres \r\n\r\nexport function groupMoviesByGenres(movies, genres) {\r\n  //  All geners \r\n  const allGeners = [...new Set(movies.map(movie => movie[genres]).flat())]\r\n\r\n  // Grouping movies by genres\r\n  const moviesByGeners = { 'all': movies }\r\n  for (let value of allGeners) {\r\n    moviesByGeners[value] = movies.filter(movie => movie[genres].includes(value))\r\n  }\r\n\r\n  allGeners.unshift('all')\r\n\r\n  return [allGeners, moviesByGeners]\r\n}\r\n\r\n//  Truncate paragraph length\r\n\r\nexport function truncate(str, len) {\r\n  if (str.length > len && str.length > 0) {\r\n    let new_str = str + ' '\r\n    new_str = str.substr(0, len)\r\n    new_str = str.substr(0, new_str.lastIndexOf(' '))\r\n    new_str = new_str.length > 0 ? new_str : str.substr(0, len)\r\n    return new_str + '...'\r\n  }\r\n  return str\r\n}","import { getDBdata } from '../db'\r\nimport { addDashboardListener } from '../listeners'\r\n\r\nexport const renderDashboard = () => {\r\n\r\n  const dashboard = document.querySelector('.dashboard')\r\n\r\n  const genres = getDBdata('genres') ?? []\r\n\r\n  const genresOptionsList = genres\r\n    .map(genre => {\r\n      return `<option value=\"${genre}\">${genre}</option>`\r\n    }).join('')\r\n\r\n  const dashboardContent = `\r\n        <div class=\"dashboard-select\">\r\n        <select class=\"custom-select\">\r\n          <option selected>select genre</option>\r\n          ${genresOptionsList}\r\n        </select>\r\n      </div>\r\n\r\n      <div class=\"dashboard-view\">\r\n        <div class=\"view-text\">view as:</div>\r\n        <div class=\"svg-icon grid-dark\" data-layout=\"grid\"></div>\r\n        <div class=\"svg-icon list-gray\" data-layout=\"list\"></div>\r\n      </div>\r\n  `\r\n\r\n  dashboard.innerHTML = ''\r\n  dashboard.innerHTML = dashboardContent\r\n\r\n  addDashboardListener()\r\n}","// @ Get all movies from remote server \r\n//  and save them to localStorage\r\nimport { removeDBdata, setDBdata, getDBdata } from './db'\r\nimport { groupMoviesByGenres } from './helpers'\r\nimport { renderAllMoviesGrid } from './renders/renderAllMoviesGrid'\r\nimport { renderDashboard } from './renders/renderDashboard'\r\n\r\n// Fetch movies from remote server\r\n\r\nexport async function fetchData(url) {\r\n  try {\r\n    const response = await fetch(url)\r\n    const movies = await response.json()\r\n    movies.map(item => {\r\n      if (item.name === 'The Matrix') {\r\n        item.img = \"https://image.tmdb.org/t/p/w500/zE3dfBIYNMBXQrhQaCyZl99wwS0.jpg\"\r\n      }\r\n    })\r\n    const idSet = new Set(movies.map(movie => movie.id))\r\n    const moviesById = {}\r\n    for (let value of idSet) {\r\n      moviesById[value] = movies.filter(item => item.id === value)[0]\r\n    }\r\n\r\n    removeDBdata('movies');\r\n    setDBdata('movies', moviesById)\r\n\r\n    // Grouping movies by genres \r\n\r\n    const [allGeners, moviesByGeners] = groupMoviesByGenres(movies, 'genres')\r\n\r\n    removeDBdata('genres');\r\n    setDBdata('genres', allGeners)\r\n    removeDBdata('moviesByGenres');\r\n    setDBdata('moviesByGenres', moviesByGeners)\r\n\r\n    renderDashboard()\r\n\r\n    const selectedGenre = getDBdata('selectedGenre') ?? 'all'\r\n    renderAllMoviesGrid(moviesByGeners[selectedGenre])\r\n\r\n  } catch (err) {\r\n    console.log(`Problem with fetching data: ${err.message}`)\r\n  }\r\n}","import { getDBdata } from './js/db'\r\nimport { fetchData } from './js/fetchData'\r\nimport { renderFavorites } from './js/renders/renderFavorites'\r\nimport { openNodal, clickFavoriteUl, changeMoviesLayout, changeSelectedGener } from './js/handlers'\r\n// import { renderDashboard } from './js/renders/renderDashboard'\r\n\r\n// Constants \r\n\r\nconst FullList = `http://my-json-server.typicode.com/moviedb-tech/movies/list`\r\n\r\n//  Fetch data from server \r\n\r\nfetchData(FullList)\r\n\r\n// @ Render favorite movies list\r\n\r\nrenderFavorites(getDBdata('favoriteMoviesId'))\r\n\r\n// EventListeners\r\n\r\n// @ Movies gallery wrapper\r\nconst moviesGallery = document.querySelector('.movie-gallery')\r\nmoviesGallery.addEventListener('click', openNodal)\r\n\r\n// @ Favorite list\r\nconst favoriteUl = document.querySelector('.favorite-ul')\r\nfavoriteUl.addEventListener('click', clickFavoriteUl)\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}